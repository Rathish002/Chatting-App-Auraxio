/*
    @license

    Packager Shared libs v0.1.9
    @author baryla (Adrian Barylski)
    @github https://github.com/baryla/packager

    Released under the MIT License.
*/
var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)r[a]=i[s];return r}var isObject=function(e){return e&&"object"==typeof e&&e.constructor===Object},cacheFactory=function(){var e=new Map;return{get:function(t){return e.get(t)},getAll:function(){return Array.from(e.entries()).reduce((function(e,t){var n;return __assign(__assign({},e),((n={})[t[0]]=t[1]||null,n))}),{})},set:function(t,n){return null!=t&&""!=t&&(e.set(t,n),this.has(t))},has:function(e){return Boolean(this.get(e))},update:function(e,t){var n=this.get(e);if(n)return isObject(t)?(this.set(e,__assign(__assign({},n),t)),this.has(e)):(this.set(e,t),this.has(e))},delete:function(t){return e.delete(t)},clear:function(){e.clear()}}},isModuleExternal=function(e){return!e.startsWith(".")&&!e.startsWith("/")},normalizeBundleOptions=function(e){return{dependencies:convertKeysToLowercase(e.dependencies)}},convertKeysToLowercase=function(e){return e?Object.keys(e||{}).reduce((function(t,n){var r;return __assign(__assign({},t),((r={})[n.toLowerCase()]=e[n],r))}),{}):{}},parsePackagePath=function(e){var t,n;if(!e||""==e)return{name:null,version:null,path:null};var r=e.startsWith("@")?null===(t=/^(@[^/]+\/[^/@]+)(?:([\s\S]+))?/.exec(e))||void 0===t?void 0:t.slice(1):null===(n=/^([^/@]+)(?:([\s\S]+))?/.exec(e))||void 0===n?void 0:n.slice(1);if(null==r?void 0:r.length){var a=extractRest(r[1]||null);return __assign({name:r[0]||null},a)}return{name:null,version:null,path:null}},extractRest=function(e){if(!e||""==e)return{version:null,path:null};if(e.startsWith("@")){var t=/@(.*?)\/(.*)/.exec(e);return t?{version:t[1]||null,path:t[2]||null}:{version:e.substring(1)||null,path:null}}if(e&&~e.indexOf("@")){var n=e.split("@");return{version:n[1],path:0===n[0].indexOf("/")?n[0].substring(1):n[0]}}return{version:null,path:e&&e.startsWith("/")?e.slice(1):null}},absolutePath=/^(?:\/|(?:[A-Za-z]:)?[\\|\/])/,relativePath=/^\.?\.\//;function isAbsolute(e){return absolutePath.test(e)}function isRelative(e){return relativePath.test(e)}function basename(e){return e.split(/(\/|\\)/).pop()}function dirname(e){var t=/(\/|\\)[^\/\\]*$/.exec(e);if(!t)return".";var n=e.slice(0,-t[0].length);return n||"/"}function extname(e){var t=basename(e);if(!t)return"";var n=/\.[^\.]+$/.exec(t);return n?n[0]:""}function resolve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift().split(/[\/\\]/);return e.forEach((function(e){if(isAbsolute(e))n=e.split(/[\/\\]/);else{for(var t=e.split(/[\/\\]/);"."===t[0]||".."===t[0];){".."===t.shift()&&n.pop()}n.push.apply(n,t)}})),normalize(n.join("/"))}function normalize(e){return e.replace(/\/\//gi,"/")}var sep="/",path={isAbsolute:isAbsolute,isRelative:isRelative,basename:basename,dirname:dirname,extname:extname,resolve:resolve,normalize:normalize,sep:sep},generateExport=function(e,t){return void 0===t&&(t=!0),(t?"export default ":"")+"function addStyles () {const tag = document.createElement('style');tag.type = 'text/css';tag.appendChild(document.createTextNode(`"+e.code+"`));tag.setAttribute('data-src', '"+e.path+"');document.head.appendChild(tag);} addStyles();"},generateExportsForAllStyles=function(e,t){return generateExport({path:t,code:e.join("\n\n")},!1)},stylePluginHelpers={generateExport:generateExport,generateExportsForAllStyles:generateExportsForAllStyles},verifyExtensions=function(e){var t=new RegExp("\\"+e.join("$|\\")+"$","i");return function(e,n){void 0===n&&(n=!0);var r=isModuleExternal(e);return t.test(e)&&!((!r||n)&&r)}},resolveRelative=function(e,t,n,r){if(void 0===r&&(r=!0),!t||""==t)return null;var a=path.resolve(path.dirname(t),e).replace(/^\.\//,""),i=n.files.find((function(e){return e.path===a}));if(i)return r?i.path:i;var s=function(e){return n.files.find((function(t){return t.path===e+"/index.js"||t.path===e+"/index.ts"||t.path===e+"/index.jsx"||t.path===e+"/index.tsx"||t.path===e+".js"||t.path===e+".ts"||t.path===e+".jsx"||t.path===e+".tsx"}))||null}(path.resolve(path.dirname(t),e));return s?r?s.path||null:s||null:null},resolveExternal=function(e,t,n){if(!t.startsWith("@")){if(~t.indexOf("/")){var r=n.dependencies.get(t);if(r){var a=new URL(r.meta.url).pathname;return path.resolve(path.dirname(a),e)}return path.resolve(path.dirname("/"+t),e).replace(/^\.\//,"")}return path.resolve("/"+t,e)}throw new Error("Module "+e+" has a parent "+t+" with @ which is currently not supported.")},fetchScript=function(url){return"function"==typeof self.importScripts?self.importScripts(url):"function"==typeof fetch&&fetch(url).then((function(e){return e.text()})).then((function(text){return eval(text)}))};self.sourceMap||fetchScript("https://cdn.jsdelivr.net/npm/source-map/dist/source-map.js");var generateSourceMap=function(e,t,n){var r=new self.sourceMap.SourceMapGenerator({file:e});return r.setSourceContent(e,t),n.split(/\r?\n/g).forEach((function(t,n){t&&r.addMapping({source:e,original:{line:n+1,column:0},generated:{line:n+1,column:0}})})),r.toJSON()};function deepMerge(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r={},a=0,i=t;a<i.length;a++){var s=i[a];if(s instanceof Array)r instanceof Array||(r=[]),r=__spreadArrays(r,s);else if(s instanceof Object)for(var o=0,l=Object.entries(s);o<l.length;o++){var u=l[o],c=u[0],p=u[1];p instanceof Object&&c in r&&(p=deepMerge(r[c],p)),r=__assign(__assign({},r),((e={})[c]=p,e))}}return r}self.generateSourceMap=generateSourceMap;export{cacheFactory,deepMerge,generateSourceMap,isModuleExternal,normalizeBundleOptions,parsePackagePath,path,resolveRelative,resolveExternal as resolveRelativeExternal,stylePluginHelpers,verifyExtensions};
//# sourceMappingURL=index.js.map
